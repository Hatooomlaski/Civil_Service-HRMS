<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Civil Service HRMS - Record of Service</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col md:flex-row">

  <!-- Mobile Navbar -->
  <header class="md:hidden bg-green-700 text-white flex items-center justify-between p-4">
    <h1 class="text-xl font-bold">Civil Service HRMS</h1>
    <button id="menuBtn" class="text-2xl">‚ò∞</button>
  </header>

  <!-- Sidebar -->
  <aside id="sidebar" class="w-64 bg-green-700 text-white flex flex-col justify-between fixed md:static inset-y-0 left-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-50">
    <div class="p-6">
      <h1 class="text-2xl font-bold mb-8 hidden md:block">Civil Service HRMS</h1>
      <nav class="space-y-2">
        <a href="#" class="flex items-center space-x-2 p-2 rounded hover:bg-green-800">
          <span>üè†</span><span>Dashboard</span>
        </a>
        <a href="#" class="flex items-center space-x-2 p-2 bg-green-800 rounded">
          <span>üìã</span><span>Record of Service</span>
        </a>
        <a href="#" class="flex items-center space-x-2 p-2 rounded hover:bg-green-800">
          <span>üìÜ</span><span>Leave Information</span>
        </a>
        <a href="#" class="flex items-center space-x-2 p-2 rounded hover:bg-green-800">
          <span>üë•</span><span>Manage Users</span>
        </a>
        <a href="#" class="flex items-center space-x-2 p-2 rounded hover:bg-green-800">
          <span>üîí</span><span>Change Password</span>
        </a>
      </nav>
    </div>
    <div class="p-4 text-sm text-gray-200">¬© 2025 Civil Service HRMS</div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-4 md:p-8 mt-14 md:mt-0">
    <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 space-y-3 md:space-y-0">
      <div>
        <h2 class="text-2xl md:text-3xl font-semibold text-gray-800">Record of Service</h2>
        <p class="text-gray-500 text-sm">Dashboard &gt; Record of Service</p>
      </div>
      <div class="flex items-center space-x-3 w-full md:w-auto">
        <div class="relative flex-1 md:flex-none">
          <input type="text" id="searchInput" placeholder="Search by employee name"
            class="border rounded-lg pl-8 pr-4 py-2 w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-green-500" />
          <span class="absolute left-2 top-2.5 text-gray-400">üîç</span>
        </div>
        <button id="addBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">Add</button>
        <div class="bg-gray-300 rounded-full w-10 h-10 flex items-center justify-center text-gray-700">üë§</div>
      </div>
    </header>

    <!-- Table -->
    <div class="bg-white shadow-md rounded-lg p-4 md:p-6 overflow-x-auto">
      <table class="w-full text-left border-collapse text-sm md:text-base" id="recordTable">
        <thead>
          <tr class="border-b text-gray-700">
            <th class="p-3 whitespace-nowrap">Employee Name</th>
            <th class="p-3 whitespace-nowrap">Position</th>
            <th class="p-3 whitespace-nowrap">Date of Appointment</th>
            <th class="p-3 whitespace-nowrap">Date of Confirmation</th>
            <th class="p-3 whitespace-nowrap">Years of Service</th>
          </tr>
        </thead>
        <tbody id="tableBody">
          <tr class="border-b hover:bg-gray-50">
            <td class="p-3">John Doe</td>
            <td class="p-3">Senior Officer</td>
            <td class="p-3">23-03-2022</td>
            <td class="p-3">24-09-2022</td>
            <td class="p-3 text-gray-500">4 years</td>
          </tr>
          <tr class="border-b hover:bg-gray-50">
            <td class="p-3">Jane Smith</td>
            <td class="p-3">Officer</td>
            <td class="p-3">03-09-2022</td>
            <td class="p-3">06-03-2022</td>
            <td class="p-3 text-gray-500">3 years</td>
          </tr>
          <tr class="border-b hover:bg-gray-50">
            <td class="p-3">Bob Johnson</td>
            <td class="p-3">Assistant</td>
            <td class="p-3">23-08-2022</td>
            <td class="p-3">23-03-2022</td>
            <td class="p-3 text-gray-500">2 years</td>
          </tr>
          <tr class="hover:bg-gray-50">
            <td class="p-3">Alice Williams</td>
            <td class="p-3">Clerk</td>
            <td class="p-3">15-07-2022</td>
            <td class="p-3">09-03-2022</td>
            <td class="p-3 text-gray-500">3 years</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>

  <!-- Modal -->
  <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4">
    <div class="bg-white p-6 rounded-lg w-full max-w-lg shadow-lg">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-semibold">Add Record</h3>
        <button id="closeModal" class="text-gray-500 hover:text-red-600">‚úï</button>
      </div>
      <form id="recordForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium mb-1">Employee Name</label>
          <input type="text" name="name" class="border rounded-lg w-full p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Position</label>
          <input type="text" name="position" class="border rounded-lg w-full p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Date of Appointment</label>
          <input type="date" name="appointment" class="border rounded-lg w-full p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Date of Confirmation</label>
          <input type="date" name="confirmation" class="border rounded-lg w-full p-2" required />
        </div>
        <div class="col-span-1 md:col-span-2 flex justify-end space-x-3 mt-4">
          <button type="button" id="cancelBtn" class="px-4 py-2 border rounded-lg">Cancel</button>
          <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg">Save</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Sidebar toggle for mobile
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    menuBtn.addEventListener('click', () => {
      sidebar.classList.toggle('-translate-x-full');
    });

    // Search filter
    const searchInput = document.getElementById('searchInput');
    const tableBody = document.getElementById('tableBody');
    searchInput.addEventListener('input', () => {
      const q = searchInput.value.toLowerCase();
      Array.from(tableBody.rows).forEach(row => {
        const name = row.cells[0].textContent.toLowerCase();
        row.style.display = name.includes(q) ? '' : 'none';
      });
    });

    // Modal controls
    const modal = document.getElementById('modal');
    const addBtn = document.getElementById('addBtn');
    const closeModal = document.getElementById('closeModal');
    const cancelBtn = document.getElementById('cancelBtn');
    const form = document.getElementById('recordForm');

    addBtn.addEventListener('click', () => modal.classList.remove('hidden'));
    closeModal.addEventListener('click', () => modal.classList.add('hidden'));
    cancelBtn.addEventListener('click', () => modal.classList.add('hidden'));

    // Add new record
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const data = new FormData(form);
      const name = data.get('name');
      const position = data.get('position');
      const appointment = data.get('appointment');
      const confirmation = data.get('confirmation');
      const apDate = new Date(appointment);
      const today = new Date();
      const years = today.getFullYear() - apDate.getFullYear();
      const newRow = document.createElement('tr');
      newRow.className = 'border-b hover:bg-gray-50';
      newRow.innerHTML = `
        <td class='p-3'>${name}</td>
        <td class='p-3'>${position}</td>
        <td class='p-3'>${appointment.split('-').reverse().join('-')}</td>
        <td class='p-3'>${confirmation.split('-').reverse().join('-')}</td>
        <td class='p-3 text-gray-500'>${years} years</td>
      `;
      tableBody.appendChild(newRow);
      modal.classList.add('hidden');
      form.reset();
    });
  </script>
</body>
</html>
